(this.webpackJsonpcplay=this.webpackJsonpcplay||[]).push([[0],{17:function(e,t,a){"use strict";(function(e){var n=a(2),c=a(3),r=a(5),o=a(4),i=a(6),s=a(0),l=a.n(s),u=a(29),d=a(47),m=function(t){function a(t){var c;return Object(n.a)(this,a),(c=Object(r.a)(this,Object(o.a)(a).call(this,t))).getAccessToken=function(){var t={redirect_uri:"https://makarakurt.github.io/cplay",code:c.state.code,grant_type:"authorization_code"},a={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+new e("2de5eb630c1c47a685658609859ee19e:d09974ecee214be3878c8124dd79277e").toString("base64")}};u.post("https://accounts.spotify.com/api/token",d.stringify(t),a).then((function(e){var t=e.data.access_token;console.log({accessToken:t}),window.location.href="cplay://auth?token="+t})).catch((function(e){}))},c.state={code:null},c}return Object(i.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({code:this.props.code},(function(){return e.getAccessToken()}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"lyric-body"},l.a.createElement("div",{className:"brand-content"},l.a.createElement("div",{className:"brand"}," KUPLE "),l.a.createElement("div",{className:"brand-text"}," THIS IS WHY WE LISTEN ")),l.a.createElement("div",{id:"login"},l.a.createElement("h1",{className:"auth-text"},"  ")))}}]),a}(s.Component);t.a=m}).call(this,a(24).Buffer)},18:function(e,t,a){e.exports=a(49)},23:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=(a(23),a(2)),s=a(3),l=a(5),u=a(4),d=a(6),m=function(e){var t=e.onClick;return c.a.createElement("div",{className:"lyric-body"},c.a.createElement("div",{className:"brand-content"},c.a.createElement("div",{className:"brand"}," KUPLE "),c.a.createElement("div",{className:"brand-text"}," LYRIC YOUR WAY OUT ")),c.a.createElement("div",{id:"login"},c.a.createElement("h1",{className:"auth-text"}," Authentication Required "),c.a.createElement("input",{type:"submit",className:"custom-btn",value:"Login with Spotify",onClick:t})))},h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).generateRandomString=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},a.onClick=function(){var e="https://accounts.spotify.com/tr/login?continue=https:%2F%2Faccounts.spotify.com%2Fauthorize%3Fscope%3Duser-read-private%2Buser-read-email%2Buser-top-read%2Buser-read-currently-playing%2Buser-modify-playback-state%2Buser-read-playback-state%26response_type%3Dcode%26redirect_uri%3Dhttps%253A%252F%252Fmakarakurt.github.io%252Fcplay%26state%3D"+a.generateRandomString(16)+"%26client_id%3D2de5eb630c1c47a685658609859ee19e";window.location.href=e},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(m,{onClick:this.onClick})}}]),t}(n.Component),p=a(17);var f=function(){var e=new URL(window.location.href);return e.searchParams.get("code")?c.a.createElement(p.a,{code:e.searchParams.get("code")}):c.a.createElement(h,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.19c075b3.chunk.js.map