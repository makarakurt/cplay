(this.webpackJsonpcplay=this.webpackJsonpcplay||[]).push([[0],{17:function(e,t,n){"use strict";(function(e){var a=n(2),o=n(3),c=n(5),r=n(4),i=n(6),s=n(0),l=n(29),u=n(47),d=function(t){function n(t){var o;return Object(a.a)(this,n),(o=Object(c.a)(this,Object(r.a)(n).call(this,t))).getAccessToken=function(){var t={redirect_uri:"http://localhost:3000",code:o.state.code,grant_type:"authorization_code"},n={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+new e("2de5eb630c1c47a685658609859ee19e:d09974ecee214be3878c8124dd79277e").toString("base64")}};l.post("https://accounts.spotify.com/api/token",u.stringify(t),n).then((function(e){var t=e.data.access_token;console.log({accessToken:t}),window.location.href="cplay://auth?token="+t})).catch((function(e){}))},o.state={code:null},o}return Object(i.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({code:this.props.code},(function(){return e.getAccessToken()}))}},{key:"render",value:function(){return null}}]),n}(s.Component);t.a=d}).call(this,n(24).Buffer)},18:function(e,t,n){e.exports=n(49)},23:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(16),r=n.n(c),i=(n(23),n(2)),s=n(3),l=n(5),u=n(4),d=n(6),h=function(e){var t=e.onClick;return o.a.createElement("div",{className:"lyric-body"},o.a.createElement("div",{className:"brand-content"},o.a.createElement("div",{className:"brand"}," KUPLE "),o.a.createElement("div",{className:"brand-text"}," LYRIC YOUR WAY OUT ")),o.a.createElement("div",{id:"login"},o.a.createElement("h1",{className:"auth-text"}," Authentication Required "),o.a.createElement("input",{type:"submit",className:"custom-btn",value:"Login with Spotify",onClick:t})))},p=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).generateRandomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},n.onClick=function(){var e="https://accounts.spotify.com/tr/login?continue=https:%2F%2Faccounts.spotify.com%2Fauthorize%3Fscope%3Duser-read-private%2Buser-read-email%2Buser-top-read%2Buser-read-currently-playing%2Buser-modify-playback-state%2Buser-read-playback-state%26response_type%3Dcode%26redirect_uri%3Dhttps%253A%252F%252Fmakarakurt.github.io%252Fcplay%26state%3D"+n.generateRandomString(16)+"%26client_id%3D2de5eb630c1c47a685658609859ee19e";console.log(e),window.location.href=e},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(h,{onClick:this.onClick})}}]),t}(a.Component),m=n(17);var f=function(){var e=new URL(window.location.href);return e.searchParams.get("code")?o.a.createElement(m.a,{code:e.searchParams.get("code")}):o.a.createElement(p,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.9ff3d75c.chunk.js.map